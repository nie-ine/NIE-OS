<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>nie-frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">nie-frontend documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>
            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>TextSvgViewComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts</code>
</p>



    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
                <code><a href="https://angular.io/api/core/OnChanges" target="_blank" >OnChanges</a></code>
                <code><a href="https://angular.io/api/core/OnDestroy" target="_blank" >OnDestroy</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-text-svg-view</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>text-svg-view.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./text-svg-view.component.html</code></td>
            </tr>


        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#clickedStyle">clickedStyle</a>
                            </li>
                            <li>
                                <a href="#hoverStyle">hoverStyle</a>
                            </li>
                            <li>
                                <a href="#neutralStyle">neutralStyle</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#normalizeCoordinates">normalizeCoordinates</a>
                            </li>
                            <li>
                                <a href="#oldClickedWord">oldClickedWord</a>
                            </li>
                            <li>
                                <a href="#oldhoveredWord">oldhoveredWord</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#viewer">viewer</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#buildWordRectangle">buildWordRectangle</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#buildWordTextNode">buildWordTextNode</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#changeOpacity">changeOpacity</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#changeWordAppearance">changeWordAppearance</a>
                            </li>
                            <li>
                                <a href="#clickWord">clickWord</a>
                            </li>
                            <li>
                                <a href="#drawWords">drawWords</a>
                            </li>
                            <li>
                                <a href="#hoverOntoWord">hoverOntoWord</a>
                            </li>
                            <li>
                                <a href="#hoverOutOfWord">hoverOutOfWord</a>
                            </li>
                            <li>
                                <a href="#ngOnChanges">ngOnChanges</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy">ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#openImage">openImage</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#setupViewer">setupViewer</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#clickedWord">clickedWord</a>
                            </li>
                            <li>
                                <a href="#hoveredWord">hoveredWord</a>
                            </li>
                            <li>
                                <a href="#image">image</a>
                            </li>
                            <li>
                                <a href="#imageOpacity">imageOpacity</a>
                            </li>
                            <li>
                                <a href="#pageTree">pageTree</a>
                            </li>
                            <li>
                                <a href="#showHighlightedWord">showHighlightedWord</a>
                            </li>
                            <li>
                                <a href="#showWords">showWords</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Outputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#clickedWordChange">clickedWordChange</a>
                            </li>
                            <li>
                                <a href="#hoveredWordChange">hoveredWordChange</a>
                            </li>
                        </ul>
                    </td>
                </tr>



        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(elementRef: <a href="https://angular.io/api/core/ElementRef" target="_blank">ElementRef</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="98" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:98</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>TODO: comment</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>elementRef</td>
                                                  
                                                        <td>
                                                                    <code><a href="https://angular.io/api/core/ElementRef" target="_blank" >ElementRef</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section>
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-2">
                        <a name="clickedWord"></a>
                        <code>clickedWord</code>
                    </td>
                    <td class="col-md-10">
                        <div><p>The unique id of the word that was last clicked and counts as activated. Only one word can be counted as activated at a time.</p>
</div>
                            <p>
                            <em>Type :</em>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                            </p>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:45</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-2">
                        <a name="hoveredWord"></a>
                        <code>hoveredWord</code>
                    </td>
                    <td class="col-md-10">
                        <div><p>The unique id of the word the mouse is hovering on.</p>
</div>
                            <p>
                            <em>Type :</em>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                            </p>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="60" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:60</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-2">
                        <a name="image"></a>
                        <code>image</code>
                    </td>
                    <td class="col-md-10">
                        <div><p>IIIFImage object for the background image.</p>
</div>
                            <p>
                            <em>Type :</em>    <code><a href="../classes/IIIFImage.html" target="_self" >IIIFImage</a></code>

                            </p>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:34</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-2">
                        <a name="imageOpacity"></a>
                        <code>imageOpacity</code>
                    </td>
                    <td class="col-md-10">
                        <div><p>The image can be whited out. 1 means that the image is fully visible. 0 means that it&#39;s hidden.</p>
</div>
                        <p>
                            <em>Default value : </em><code>0.4</code>
                        </p>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="29" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:29</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-2">
                        <a name="pageTree"></a>
                        <code>pageTree</code>
                    </td>
                    <td class="col-md-10">
                        <div><p>The data of a page as a tree of lines and words, each element with an unique identifier.
TODO: class describing this.</p>
</div>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:40</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-2">
                        <a name="showHighlightedWord"></a>
                        <code>showHighlightedWord</code>
                    </td>
                    <td class="col-md-10">
                        <div><p>Show the transcription of a word if it is hovered or clicked.</p>
</div>
                        <p>
                            <em>Default value : </em><code>true</code>
                        </p>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:24</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-2">
                        <a name="showWords"></a>
                        <code>showWords</code>
                    </td>
                    <td class="col-md-10">
                        <div><p>True if the words in the transcription should be shown.</p>
</div>
                        <p>
                            <em>Default value : </em><code>false</code>
                        </p>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:19</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>
    <section>
    <h3 id="outputs">Outputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-2">
                        <a name="clickedWordChange"></a>
                        <code>clickedWordChange</code>
                    </td>
                    <td class="col-md-10">
                        <div><p>Give an event containing the unique word id if a word on the page description is clicked</p>
</div>
                        <em><code>$event</code> Type:</em>    <code>EventEmitter&lt;string&gt;</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="50" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:50</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-2">
                        <a name="hoveredWordChange"></a>
                        <code>hoveredWordChange</code>
                    </td>
                    <td class="col-md-10">
                        <div><p>Give an event containing the unique word id if the mouse hovers on a word in the page description</p>
</div>
                        <em><code>$event</code> Type:</em>    <code>EventEmitter&lt;string&gt;</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="65" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:65</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>


    <section>
    
        <h3 id="methods">
            Methods
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="buildWordRectangle"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            buildWordRectangle
                            </b>
                            <a href="#buildWordRectangle"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>buildWordRectangle(word: )</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="395" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:395</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Build the floating rectangle behind a word</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>word</td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>Element</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="buildWordTextNode"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            buildWordTextNode
                            </b>
                            <a href="#buildWordTextNode"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>buildWordTextNode(word: )</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="362" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:362</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Bild the text node for a word</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>word</td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>Element</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="changeOpacity"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            changeOpacity
                            </b>
                            <a href="#changeOpacity"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>changeOpacity()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="280" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:280</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Change the opacity of the lay-over on the image to make some image opacity.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="changeWordAppearance"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            changeWordAppearance
                            </b>
                            <a href="#changeWordAppearance"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>changeWordAppearance()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="290" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:290</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Apply visibility on the transcription words</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="clickWord"></a>
                        <span class="name">
                            <b>
                            clickWord
                            </b>
                            <a href="#clickWord"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>clickWord(wordIri: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="190" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:190</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>When a word is clicked, set the variable clickedWord to a words unique identifier and communicate this as output clickedWordChange.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>wordIri</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>: the unique identifier of a text element that is clicked</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="drawWords"></a>
                        <span class="name">
                            <b>
                            drawWords
                            </b>
                            <a href="#drawWords"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>drawWords()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="307" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:307</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Add an SVG to the viewer containing the transcribed words and the boxes around them. The boxes can be hovered on and
TODO later also be clicked.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="hoverOntoWord"></a>
                        <span class="name">
                            <b>
                            hoverOntoWord
                            </b>
                            <a href="#hoverOntoWord"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>hoverOntoWord(wordIri: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="230" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:230</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>When the mouse hovers on a word, set the variable hoveredWord to a words unique identifier and communicate this as output
hoveredWordChange.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>wordIri</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>: the unique identifier of a text element that is clicked</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="hoverOutOfWord"></a>
                        <span class="name">
                            <b>
                            hoverOutOfWord
                            </b>
                            <a href="#hoverOutOfWord"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>hoverOutOfWord()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="255" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:255</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>When the mouse leaves from a word, reset the variable hoveredWord and communicate this as output hoveredWordChange.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="ngOnChanges"></a>
                        <span class="name">
                            <b>
                            ngOnChanges
                            </b>
                            <a href="#ngOnChanges"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>ngOnChanges(changes: literal type)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="119" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:119</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>On the first change the viewer is set up.
On changes of the page tree, the words are drawn.
On changes about activated or hovered words, the functions for highlighting are called.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>changes</td>
                                                        <td>
                                                                    <code>literal type</code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>: Input changes</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="ngOnDestroy"></a>
                        <span class="name">
                            <b>
                            ngOnDestroy
                            </b>
                            <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>ngOnDestroy()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="178" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:178</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Close the viewer on destroy of the component.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="ngOnInit"></a>
                        <span class="name">
                            <b>
                            ngOnInit
                            </b>
                            <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>ngOnInit()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="110" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:110</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>default written by angular-cli</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="openImage"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            openImage
                            </b>
                            <a href="#openImage"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>openImage()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="446" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:446</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Open the background image from a IIIF Server.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="setupViewer"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            setupViewer
                            </b>
                            <a href="#setupViewer"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>setupViewer()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="430" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:430</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Initialize the OpenSeaDragon viewer</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="clickedStyle"></a>
                        <span class="name">
                            <b>
                            clickedStyle
                            </b>
                            <a href="#clickedStyle"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>clickedStyle:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>&#x27;fill: cyan; fill-opacity: 0.6;&#x27;</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="98" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:98</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The style of the word that is activated.
TODO add customization</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="hoverStyle"></a>
                        <span class="name">
                            <b>
                            hoverStyle
                            </b>
                            <a href="#hoverStyle"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>hoverStyle:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>&#x27;fill: cyan; fill-opacity: 0.2;&#x27;</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="86" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:86</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The style of words with highlighting by hovering.
TODO add customization</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="neutralStyle"></a>
                        <span class="name">
                            <b>
                            neutralStyle
                            </b>
                            <a href="#neutralStyle"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>neutralStyle:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>&#x27;fill: white; fill-opacity: 0;&#x27;</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="92" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:92</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>No style without hovering or activating. This is used to overwrite highlighting.
TODO add customization</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="normalizeCoordinates"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            normalizeCoordinates
                            </b>
                            <a href="#normalizeCoordinates"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>normalizeCoordinates:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="80" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:80</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Factor to normalize the coordinates to the overlay. Determined by the picture length.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="oldClickedWord"></a>
                        <span class="name">
                            <b>
                            oldClickedWord
                            </b>
                            <a href="#oldClickedWord"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>oldClickedWord:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="55" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:55</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The unique id of the word that was previously clicked and counts as activated. This makes change handling easier.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="oldhoveredWord"></a>
                        <span class="name">
                            <b>
                            oldhoveredWord
                            </b>
                            <a href="#oldhoveredWord"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>oldhoveredWord:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="70" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:70</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The unique id of the word the mouse is hovering on. This makes change handling easier.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="viewer"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            viewer
                            </b>
                            <a href="#viewer"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>viewer:     <code></code>
</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="75" class="link-to-prism">src/app/app-engine/apps/complex-text-views/text-svg-view/text-svg-view.component.ts:75</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The OpenSeaDragon viewer</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, ElementRef, EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output, SimpleChange } from &#x27;@angular/core&#x27;;
import { IIIFImage } from &#x27;../../shared/IIIFImage&#x27;;

declare let OpenSeadragon: any;

require(&#x27;../../svg-overlay/openseadragon-svg-overlay.js&#x27;);


@Component({
  selector: &#x27;app-text-svg-view&#x27;,
  templateUrl: &#x27;./text-svg-view.component.html&#x27;,
  styleUrls: [&#x27;./text-svg-view.component.scss&#x27;]
})
export class TextSvgViewComponent implements OnInit, OnChanges, OnDestroy {

  /**
   * True if the words in the transcription should be shown.
   */
  @Input() showWords &#x3D; false;

  /**
   * Show the transcription of a word if it is hovered or clicked.
   */
  @Input() showHighlightedWord &#x3D; true;

  /**
   * The image can be whited out. 1 means that the image is fully visible. 0 means that it&#x27;s hidden.
   */
  @Input() imageOpacity &#x3D; 0.4;

  /**
   * IIIFImage object for the background image.
   */
  @Input() image: IIIFImage;

  /**
   * The data of a page as a tree of lines and words, each element with an unique identifier.
   * TODO: class describing this.
   */
  @Input() pageTree;

  /**
   * The unique id of the word that was last clicked and counts as activated. Only one word can be counted as activated at a time.
   */
  @Input() clickedWord: string;

  /**
   * Give an event containing the unique word id if a word on the page description is clicked
   */
  @Output() clickedWordChange: EventEmitter&lt;string&gt; &#x3D; new EventEmitter&lt;string&gt;();

  /**
   * The unique id of the word that was previously clicked and counts as activated. This makes change handling easier.
   */
  oldClickedWord: string;

  /**
   * The unique id of the word the mouse is hovering on.
   */
  @Input() hoveredWord: string;

  /**
   * Give an event containing the unique word id if the mouse hovers on a word in the page description
   */
  @Output() hoveredWordChange: EventEmitter&lt;string&gt; &#x3D; new EventEmitter&lt;string&gt;();

  /**
   * The unique id of the word the mouse is hovering on. This makes change handling easier.
   */
  oldhoveredWord: string;

  /**
   * The OpenSeaDragon viewer
   */
  private viewer;

  /**
   * Factor to normalize the coordinates to the overlay. Determined by the picture length.
   */
  private normalizeCoordinates: number;

  /**
   * The style of words with highlighting by hovering.
   * TODO add customization
   */
  hoverStyle &#x3D; &#x27;fill: cyan; fill-opacity: 0.2;&#x27;;

  /**
   * No style without hovering or activating. This is used to overwrite highlighting.
   * TODO add customization
   */
  neutralStyle &#x3D; &#x27;fill: white; fill-opacity: 0;&#x27;;

  /**
   * The style of the word that is activated.
   * TODO add customization
   */
  clickedStyle &#x3D; &#x27;fill: cyan; fill-opacity: 0.6;&#x27;;

  /**
   * TODO: comment
   * @param elementRef
   */
  constructor(private elementRef: ElementRef) { }


  /**
   * default written by angular-cli
   */
  ngOnInit() {
  }

  /**
   * On the first change the viewer is set up.
   * On changes of the page tree, the words are drawn.
   * On changes about activated or hovered words, the functions for highlighting are called.
   * @param changes: Input changes
   */
  ngOnChanges(changes: { [key: string]: SimpleChange }) {

    // set up the viewer on the first change
    if (changes[&#x27;pageTree&#x27;] &amp;&amp; changes[&#x27;pageTree&#x27;].isFirstChange()) {
      this.setupViewer();
    }

    // open the image if it changes
    if (changes[&#x27;image&#x27;]) {
      this.openImage();
    }

    // redraw the tree if it changes
    if (changes[&#x27;pageTree&#x27;]) {
      if (this.pageTree.pageWidth &gt; this.pageTree.pageHeight) {
        this.normalizeCoordinates &#x3D; 1 / this.pageTree.pageWidth;
      } else {
        this.normalizeCoordinates &#x3D; 1 / this.pageTree.pageHeight;
      }

      // normalize to width due to input data
      this.normalizeCoordinates &#x3D; 1 / this.pageTree.pageWidth;

      this.drawWords();
    }

    // change visibility of the words
    if (changes[&#x27;showWords&#x27;]) {
      this.changeWordAppearance();
    }

    // change the opacity of the image
    if (changes[&#x27;imageOpacity&#x27;]) {
      this.changeOpacity();
    }

    // change the opacity of the image
    if (changes[&#x27;showHighlightedWord&#x27;]) {
      this.changeOpacity();
    }

    // change the hovered word
    if (changes[&#x27;hoveredWord&#x27;]) {
      if (this.hoveredWord) {
        this.hoverOntoWord(this.hoveredWord);
      } else {
        this.hoverOutOfWord();
      }
    }

    // change the clicked word
    if (changes[&#x27;clickedWord&#x27;]) {
      this.clickWord(this.clickedWord);
    }
  }

  /**
   * Close the viewer on destroy of the component.
   */
  ngOnDestroy() {
    if (this.viewer) {
      this.viewer.destroy();
      this.viewer &#x3D; undefined;
    }
  }


  /**
   * When a word is clicked, set the variable clickedWord to a words unique identifier and communicate this as output clickedWordChange.
   * @param wordIri: the unique identifier of a text element that is clicked
   */
  clickWord(wordIri: string) {
    this.clickedWord &#x3D; wordIri;
    this.clickedWordChange.emit(this.clickedWord);

    // get the rectangle node of the word
    const word &#x3D; document.getElementById(&#x27;word-rect--&#x27; + wordIri);
    if (word) {
      word.setAttribute(&#x27;style&#x27;, this.clickedStyle);
    }

    if (this.showHighlightedWord &amp;&amp; !this.showWords) {
      const wordTranscription &#x3D; document.getElementById(&#x27;word-text--&#x27; + wordIri);
      if (wordTranscription) {
        wordTranscription.setAttribute(&#x27;visibility&#x27;, &#x27;visible&#x27;);
      }
    }

    // remove highighting from old focused word
    if (this.oldClickedWord) {
      const oldWord &#x3D; document.getElementById(&#x27;word-rect--&#x27; + this.oldClickedWord);
      if (oldWord) {
        oldWord.setAttribute(&#x27;style&#x27;, this.neutralStyle);
      }

      if (this.showHighlightedWord &amp;&amp; !this.showWords) {
        const oldWordTranscription &#x3D; document.getElementById(&#x27;word-text--&#x27; + this.oldClickedWord);
        if (oldWordTranscription) {
          oldWordTranscription.setAttribute(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
        }
      }
    }
    // keep the id for the removal of the hightlighting later
    this.oldClickedWord &#x3D; this.clickedWord;
  }

  /**
   * When the mouse hovers on a word, set the variable hoveredWord to a words unique identifier and communicate this as output
   * hoveredWordChange.
   * @param wordIri: the unique identifier of a text element that is clicked
   */
  hoverOntoWord(wordIri: string) {
    this.hoveredWord &#x3D; wordIri;
    this.hoveredWordChange.emit(this.hoveredWord);

    this.oldhoveredWord &#x3D; this.hoveredWord;

    // only change style if the word is not under absolute focus
    if (wordIri !&#x3D;&#x3D; this.clickedWord) {
      const word &#x3D; document.getElementById(&#x27;word-rect--&#x27; + wordIri);
      if (word) {
        word.setAttribute(&#x27;style&#x27;, this.hoverStyle);
      }
    }

    if (this.showHighlightedWord &amp;&amp; !this.showWords) {
      const wordTranscription &#x3D; document.getElementById(&#x27;word-text--&#x27; + wordIri);
      if (wordTranscription) {
        wordTranscription.setAttribute(&#x27;visibility&#x27;, &#x27;visible&#x27;);
      }
    }
  }

  /**
   * When the mouse leaves from a word, reset the variable hoveredWord and communicate this as output hoveredWordChange.
   */
  hoverOutOfWord() {
    this.hoveredWord &#x3D; null;
    this.hoveredWordChange.emit(this.hoveredWord);

    // only change style if the word is not under absolute focus
    if (this.oldhoveredWord &amp;&amp; this.oldhoveredWord !&#x3D;&#x3D; this.clickedWord) {
      const word &#x3D; document.getElementById(&#x27;word-rect--&#x27; + this.oldhoveredWord);
      if (word) {
        word.setAttribute(&#x27;style&#x27;, this.neutralStyle);
      }

      if (this.showHighlightedWord &amp;&amp; !this.showWords) {
        const wordTranscription &#x3D; document.getElementById(&#x27;word-text--&#x27; + this.oldhoveredWord);
        if (wordTranscription) {
          wordTranscription.setAttribute(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
        }
      }

      this.oldhoveredWord &#x3D; null;
    }
  }

  /**
   * Change the opacity of the lay-over on the image to make some image opacity.
   */
  private changeOpacity() {
    const paceOpacityRect &#x3D; document.getElementById(&#x27;text-page--&#x27; + this.pageTree.pageId);
    if (paceOpacityRect) {
      paceOpacityRect.setAttribute(&#x27;style&#x27;, &#x27;fill: white; fill-opacity:&#x27; + (1 - this.imageOpacity).toString());
    }
  }

  /**
   * Apply visibility on the transcription words
   */
  private changeWordAppearance() {
    const words &#x3D; document.getElementsByClassName(&#x27;word-text-class&#x27;);
    if (this.showWords) {
      for (let i &#x3D; 0; i &lt; words.length; i++) {
        words[i].setAttribute(&#x27;visibility&#x27;, &#x27;visible&#x27;);
      }
    } else {
      for (let i &#x3D; 0; i &lt; words.length; i++) {
        words[i].setAttribute(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
      }
    }
  }

  /**
   * Add an SVG to the viewer containing the transcribed words and the boxes around them. The boxes can be hovered on and
   * TODO later also be clicked.
   */
  drawWords() {
    const overlay &#x3D; this.viewer.svgOverlay();

    const svgGroup &#x3D; document.createElementNS(&#x27;http://www.w3.org/2000/svg&#x27;, &#x27;g&#x27;);

    svgGroup.setAttribute(&#x27;transform&#x27;, &#x27;scale(&#x27; + (1 / this.pageTree.pageWidth).toString() + &#x27;)&#x27;);


    const wordElements &#x3D; [];
    const rectElements &#x3D; [];

    // BOX OVER THE WHOLE IMAGE TO CHANGE OPACITY
    const imageRect &#x3D; document.createElementNS(&#x27;http://www.w3.org/2000/svg&#x27;, &#x27;rect&#x27;);
    imageRect.id &#x3D; &#x27;text-page--&#x27; + this.pageTree.pageId;

    // Place and shape of the image blur box
    imageRect.setAttribute(&#x27;width&#x27;, (this.pageTree.pageWidth).toString());
    imageRect.setAttribute(&#x27;height&#x27;, (this.pageTree.pageHeight).toString());
    imageRect.setAttribute(&#x27;x&#x27;, &#x27;0&#x27;);
    imageRect.setAttribute(&#x27;y&#x27;, &#x27;0&#x27;);

    // Color of the image blur box
    imageRect.setAttribute(&#x27;style&#x27;, &#x27;fill: white; fill-opacity: &#x27; + (1 - this.imageOpacity).toString());

    svgGroup.appendChild(imageRect);

    // PARTS FOR THE WORDS
    for (let l &#x3D; 0; l &lt; this.pageTree.lines.length; l++) {
      for (let w &#x3D; 0; w &lt; this.pageTree.lines[l].words.length; w++) {

        // Collect the rectangles
        const wordRect &#x3D; this.buildWordRectangle(this.pageTree.lines[l].words[w]);
        rectElements.push(wordRect);

        // Collect the text elements
        const wordText &#x3D; this.buildWordTextNode(this.pageTree.lines[l].words[w]);
        wordElements.push(wordText);
      }

      // Add first the words and then the rectangles to ensure that the rectangles are always in the foreground.
      for (let i &#x3D; 0; i &lt; wordElements.length; i++) {
        svgGroup.appendChild(wordElements[i]);
      }
      for (let i &#x3D; 0; i &lt; rectElements.length; i++) {
        svgGroup.appendChild(rectElements[i]);
      }
    }

    overlay.node().appendChild(svgGroup);
  }

  /**
   * Bild the text node for a word
   * @param word
   */
  private buildWordTextNode(word): Element {
    const wordText &#x3D; document.createElementNS(&#x27;http://www.w3.org/2000/svg&#x27;, &#x27;text&#x27;);
    wordText.id &#x3D; &#x27;word-text--&#x27; + word.wordIri;
    wordText.setAttribute(&#x27;class&#x27;, &#x27;word-text-class&#x27;);

    // The words text
    const wordTextContent &#x3D; word.textIri;  // TODO use SPA service here
    const wordTextNode &#x3D; document.createTextNode(wordTextContent);

    // Position of Words
    wordText.setAttribute(&#x27;x&#x27;, ((word.ulx + word.lrx) / 2).toString());
    wordText.setAttribute(&#x27;y&#x27;, ((word.uly + word.lry) / 2).toString());
    wordText.setAttribute(&#x27;text-anchor&#x27;, &#x27;middle&#x27;);
    // wordText.setAttribute(&#x27;dominant-baseline&#x27;, &#x27;middle&#x27;); // does not work in firefox
    wordText.setAttribute(&#x27;visibility&#x27;, &#x27;visible&#x27;);

    // Text style
    const fontSize &#x3D; (1.8 * (( word.lrx - word.ulx) / wordTextContent.length ) );
    wordText.setAttribute(&#x27;font-size&#x27;, fontSize.toString());

    // wordText.setAttribute(&#x27;font-size&#x27;, (1 * (word.lry - word.uly) / this.maxSide).toString());
    wordText.setAttribute(&#x27;fill&#x27;, &#x27;black&#x27;);

    // Add content to the text element
    wordText.appendChild(wordTextNode);

    return wordText;
  }

  /**
   * Build the floating rectangle behind a word
   * @param word
   */
  private buildWordRectangle(word): Element {
    const wordRect &#x3D; document.createElementNS(&#x27;http://www.w3.org/2000/svg&#x27;, &#x27;rect&#x27;);

    // Set the id for the word rectangle to be able to add styles
    wordRect.id &#x3D; &#x27;word-rect--&#x27; + word.wordIri;

    // Place and shape of the word boxes
    wordRect.setAttribute(&#x27;width&#x27;, (word.lrx - word.ulx).toString());
    wordRect.setAttribute(&#x27;height&#x27;, (word.lry - word.uly).toString());
    wordRect.setAttribute(&#x27;x&#x27;, (word.ulx).toString());
    wordRect.setAttribute(&#x27;y&#x27;, (word.uly).toString());

    // Color of the word boxes
    wordRect.setAttribute(&#x27;style&#x27;, this.neutralStyle);

    // Add events with mouse behavior
    wordRect.addEventListener(&#x27;mouseenter&#x27;, (e) &#x3D;&gt; {
      this.hoverOntoWord(word.wordIri);
    });
    wordRect.addEventListener(&#x27;mouseleave&#x27;, (e) &#x3D;&gt; {
      this.hoverOutOfWord();
    });
    wordRect.addEventListener(&#x27;onclick&#x27;, (e) &#x3D;&gt; {
      this.clickWord(word.wordIri);
      e.preventDefault();
      e.stopPropagation();
    });
    // overlay.onClick(wordRect, this.clickWord(word.wordIri));

    return wordRect;
  }

  /**
   * Initialize the OpenSeaDragon viewer
   */
  private setupViewer(): void {
    const viewerContainer &#x3D; this.elementRef.nativeElement.getElementsByClassName(&#x27;osdViewerContainer&#x27;)[0];
    const osdOptions &#x3D; {
      element: viewerContainer,
      prefixUrl: &#x27;//openseadragon.github.io/openseadragon/images/&#x27;,
      sequenceMode: false,
      showNavigator: false,
      defaultZoomLevel: 1,
      minZoomImageRatio: 1
    };
    this.viewer &#x3D; new OpenSeadragon.Viewer(osdOptions);
  }

  /**
   * Open the background image from a IIIF Server.
   */
  private openImage(): void {

    const tileSource &#x3D; this.image.tileSource();

    this.viewer.open([tileSource]);
  }


}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;osdViewerContainer&quot; [ngStyle]&#x3D;&quot;{&#x27;height&#x27;: &#x27;1200&#x27; + &#x27;px&#x27;, &#x27;width&#x27;: &#x27;900&#x27; + &#x27;px&#x27;}&quot;&gt;&lt;/div&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="osdViewerContainer" [ngStyle]="{\'height\': \'1200\' + \'px\', \'width\': \'900\' + \'px\'}"></div></div>'
    var COMPONENTS = [{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'BarChartComponent', 'selector': 'app-bar-chart'},{'name': 'BooleanValueEditorComponent', 'selector': 'app-boolean-value-editor'},{'name': 'BrushAndZoomComponent', 'selector': 'app-brush-and-zoom'},{'name': 'ChordDiagramComponent', 'selector': 'app-chord-diagram'},{'name': 'CreateResourceComponent', 'selector': 'app-create-resource'},{'name': 'CreateResourceViewComponent', 'selector': 'app-create-resource-view'},{'name': 'D3tutorialComponent', 'selector': 'app-d3tutorial'},{'name': 'DashboardComponent', 'selector': 'app-dashboard'},{'name': 'DataAssignmentComponent', 'selector': 'app-data-assignment'},{'name': 'DataChooserComponent', 'selector': 'app-data-chooser'},{'name': 'DataChooserSettingsComponent', 'selector': 'app-data-chooser-settings'},{'name': 'DataManagementComponent', 'selector': 'app-data-management'},{'name': 'DateValueEditorComponent', 'selector': 'app-date-value-editor'},{'name': 'DateValueViewerComponent', 'selector': 'app-date-value-viewer'},{'name': 'DeactivateNewsletterComponent', 'selector': 'app-deactivate-newsletter'},{'name': 'DecimalValueEditorComponent', 'selector': 'app-decimal-value-editor'},{'name': 'DeleteActionComponent', 'selector': 'app-delete-action'},{'name': 'DeletePageComponent', 'selector': 'app-delete-page'},{'name': 'DialogCreateNewPageComponent', 'selector': 'dialog-create-new-page'},{'name': 'DialogOverviewExampleDialog', 'selector': 'dialog-overview-example-dialog'},{'name': 'DialogUserSettingsDialog', 'selector': 'dialog-user-settings-dialog'},{'name': 'DictionaryComponent', 'selector': 'app-dictionary'},{'name': 'DuplicatePageComponent', 'selector': 'app-duplicate-page'},{'name': 'EditActionComponent', 'selector': 'app-edit-action'},{'name': 'EditPageComponent', 'selector': 'app-edit-page'},{'name': 'EditPageSetComponent', 'selector': 'app-update-page-set'},{'name': 'EditResourceViewComponent', 'selector': 'app-edit-resource-view'},{'name': 'ExtendSessionComponent', 'selector': 'session-component'},{'name': 'FactSheetComponent', 'selector': 'app-fact-sheet'},{'name': 'FloatLightTableComponent', 'selector': 'app-float-light-table'},{'name': 'FloatingImageObjectComponent', 'selector': 'app-floating-image-object'},{'name': 'FloatingTextObjectComponent', 'selector': 'app-floating-text-object'},{'name': 'Frame', 'selector': 'popup'},{'name': 'FrameSettingsComponent', 'selector': 'app-frame-settings'},{'name': 'GrapesjsComponent', 'selector': 'app-grapesjs'},{'name': 'HeaderComponent', 'selector': 'app-header'},{'name': 'HomeComponent', 'selector': 'app-home'},{'name': 'ImageFrameComponent', 'selector': 'app-image-frame'},{'name': 'ImageFrameSizesComponent', 'selector': 'app-image-frame-sizes'},{'name': 'ImageViewComponent', 'selector': 'app-image-view'},{'name': 'ImageWithOverlayComponent', 'selector': 'app-image-with-overlay'},{'name': 'InitPopupComponent', 'selector': 'app-init-popup'},{'name': 'IntValueEditorComponent', 'selector': 'app-int-value-editor'},{'name': 'KeyValueFormComponent', 'selector': 'app-key-value-form'},{'name': 'LeafletExampleComponent', 'selector': 'app-leaflet-example'},{'name': 'LightTableComponent', 'selector': 'app-light-table'},{'name': 'LightTableMenuComponent', 'selector': 'app-light-table-menu'},{'name': 'LinkValueEditorComponent', 'selector': 'app-link-value-editor'},{'name': 'LinkValueLabelViewerComponent', 'selector': 'app-link-value-label-viewer'},{'name': 'LoadLightTableComponent', 'selector': 'app-load-light-table'},{'name': 'LoadVariablesComponent', 'selector': 'app-load-variables'},{'name': 'MainComponent', 'selector': 'app-main'},{'name': 'MetadataViewComponent', 'selector': 'app-metadata-view'},{'name': 'MultiLineChartComponent', 'selector': 'app-multi-line-chart'},{'name': 'MyMainComponentComponent', 'selector': 'app-my-main-component'},{'name': 'MyPractiseComponentComponent', 'selector': 'app-my-practise-component'},{'name': 'NavigationComponent', 'selector': 'app-navigation'},{'name': 'NavigationComponent', 'selector': 'app-navigation'},{'name': 'NavigationComponent', 'selector': 'app-navigation'},{'name': 'NewGjsBoxDialogComponent', 'selector': 'app-new-gjs-box-dialog'},{'name': 'PageComponent', 'selector': 'nie-os'},{'name': 'PageNotFoundComponent', 'selector': 'app-page-not-found'},{'name': 'PageSetLandingPageComponent', 'selector': 'app-page-set-landing-page'},{'name': 'PieChartComponent', 'selector': 'app-pie-chart'},{'name': 'PizzaPartyComponent', 'selector': 'snack-bar-component-example-snack'},{'name': 'QueryAppInputMapComponent', 'selector': 'app-query-app-input-map'},{'name': 'QueryEntryComponent', 'selector': 'app-query-entry'},{'name': 'QueryListComponent', 'selector': 'app-query-list'},{'name': 'RadialBarchartComponent', 'selector': 'app-radial-barchart'},{'name': 'ReactivateAccountComponent', 'selector': 'app-reactivate-account'},{'name': 'RegisterComponent', 'selector': 'app-register'},{'name': 'RemoveObjectsByIdComponent', 'selector': 'app-remove-objects-by-id'},{'name': 'ResetPasswordComponent', 'selector': 'app-reset-password'},{'name': 'ResourceFormComponent', 'selector': 'app-resource-form'},{'name': 'ResourceValueHistoryComponent', 'selector': 'app-resource-value-history'},{'name': 'ResourceValueHistoryValueComponent', 'selector': 'app-resource-value-history-value'},{'name': 'ResponseTreeComponent', 'selector': 'app-response-tree'},{'name': 'SankeyComponent', 'selector': 'app-sankey'},{'name': 'SaveLightTableComponent', 'selector': 'app-save-light-table'},{'name': 'ShareLightTableComponent', 'selector': 'app-share-light-table'},{'name': 'SimpleImageAppComponent', 'selector': 'app-simple-image-app'},{'name': 'SpaTextComponent', 'selector': 'app-spa-text'},{'name': 'StackedBarChartComponent', 'selector': 'app-stacked-bar-chart'},{'name': 'SynopsisComponent', 'selector': 'app-synopsis'},{'name': 'SynopsisObjectManagerComponent', 'selector': 'app-synopsis-object-manager'},{'name': 'SynopsisObjectToolboxComponent', 'selector': 'app-synopsis-object-toolbox'},{'name': 'TagChipsComponent', 'selector': 'app-tag-chips'},{'name': 'TextDevViewComponent', 'selector': 'app-text-dev-view'},{'name': 'TextDisplayComponent', 'selector': 'app-text-display'},{'name': 'TextDisplayComponent', 'selector': 'app-text-display'},{'name': 'TextLineComponent', 'selector': 'app-text-line'},{'name': 'TextLineGroupComponent', 'selector': 'app-text-line-group'},{'name': 'TextLineMarginComponent', 'selector': 'app-text-line-margin'},{'name': 'TextLineNumberComponent', 'selector': 'app-text-line-number'},{'name': 'TextPageOfWordsComponent', 'selector': 'app-text-page-of-words'},{'name': 'TextSvgViewComponent', 'selector': 'app-text-svg-view'},{'name': 'TextValueEditorComponent', 'selector': 'app-text-value-editor'},{'name': 'TextViewCanvasComponent', 'selector': 'app-text-view-canvas'},{'name': 'TextViewComponent', 'selector': 'app-text-view'},{'name': 'TextViewMetadataComponent', 'selector': 'app-text-view-metadata'},{'name': 'TextViewStructureComponent', 'selector': 'app-text-view-structure'},{'name': 'TextViewToolsComponent', 'selector': 'app-text-view-tools'},{'name': 'TextlistViewerComponent', 'selector': 'app-textlist-viewer'},{'name': 'ThumbnailbarComponent', 'selector': 'app-thumbnailbar'},{'name': 'TiledImageObjectComponent', 'selector': 'app-tiled-image-object'},{'name': 'TiledLightTableComponent', 'selector': 'app-tiled-light-table'},{'name': 'TiledTextObjectComponent', 'selector': 'app-tiled-text-object'},{'name': 'UpdateLinkedAppsComponent', 'selector': 'app-update-linked-apps'}];
    var DIRECTIVES = [{'name': 'DraggableDirective', 'selector': '[appDraggable]'},{'name': 'DraggableStubDirective', 'selector': '[appDraggable]'},{'name': 'FloatDropTargetDirective', 'selector': '[appDropTarget]'},{'name': 'ModifiableDirective', 'selector': '[appModifiable]'},{'name': 'ModifiableStubDirective', 'selector': '[appModifiable]'},{'name': 'SelectableDirective', 'selector': '[appSelectable]'},{'name': 'SelectableStubDirective', 'selector': '[appSelectable]'},{'name': 'SynopsisObjectAnchorDirective', 'selector': '[appSynopsisObjectAnchor]'},{'name': 'TileDropTargetDirective', 'selector': '[appTileDropTarget]'}];
    var ACTUAL_COMPONENT = {'name': 'TextSvgViewComponent'};
</script>
<script src="../js/tree.js"></script>














                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'TextSvgViewComponent.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <script src="../js/menu-wc.js"></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
