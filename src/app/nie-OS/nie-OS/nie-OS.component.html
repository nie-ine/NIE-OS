
  <!-- Menu to open Apps-->
  <mat-drawer-container  style="height:100vh; margin-top: 30px;">
    <mat-drawer #drawer mode="side" >

        <h4 style="align-content: center">Your Page</h4>
        <button mat-button (click)="savePage()">Save Page</button>
        <button mat-button (click)="deletePage()">Delete Page</button><br>
        <button mat-button (click)="expandPanels()"> Fold or unfold App Description</button>

        <h4 style="align-content: center">Texts</h4>

        <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Text Viewer
            </mat-panel-title>
            <mat-panel-description>
              Displays searchable Text
            </mat-panel-description>
          </mat-expansion-panel-header>

          This app is under development. It displays searchable text which can be changed regarding the font size, the design.

          <mat-divider></mat-divider>

          <button mat-button (click)="addAnotherApp(appTypes[ 'textViewer' ].model, true)"><mat-icon>view_headline</mat-icon> Add Text Viewer</button><br>

        </mat-expansion-panel>

        <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Textlist Viewer
            </mat-panel-title>
            <mat-panel-description>
              Displays searchable Text
            </mat-panel-description>
          </mat-expansion-panel-header>

          This app can be combined with the data - chooser. A tutorial on how to use the data - chooser will follow.

          <mat-divider></mat-divider>

          <button mat-button (click)="addAnotherApp(appTypes[ 'textlistViewers' ].model, true)"><mat-icon>short_text</mat-icon>Add Textlist - Viewer</button><br>

        </mat-expansion-panel>

          <h4 style="align-content: center">Images</h4>

        <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >

          <mat-expansion-panel-header>
            <mat-panel-title>
              Image Viewer
            </mat-panel-title>
            <mat-panel-description>
              Display and zoom in images
            </mat-panel-description>
          </mat-expansion-panel-header>

          This app displays the image of your choice with the OpenSea - Dragon - Plugin. You can zoom in and have
          a look at it in fullscreen - mode. The documentation of this App can be found
          <a href="https://nie-ine.github.io/nieOS/components/ImageFrameComponent.html" target="_blank">here</a>.

          <mat-divider></mat-divider>

          <button mat-button (click)="addAnotherApp(appTypes[ 'imageViewer' ].model, true)" >
            <mat-icon >image</mat-icon>
            Add Image Viewer</button><br>

        </mat-expansion-panel>

        <h4 style="align-content: center">Searches</h4>

        <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Simple Full Text Search
            </mat-panel-title>
            <mat-panel-description>
              Search in all resources
            </mat-panel-description>
          </mat-expansion-panel-header>

          This app searches in all resources of your project and provides a simple output. It is still under development.

          <mat-divider></mat-divider>

          <button mat-button (click)="addAnotherApp(appTypes[ 'searchViewer' ].model, true)">
            <mat-icon >search</mat-icon>
            Add search Viewer
          </button><br>

        </mat-expansion-panel>

        <h4 style="align-content: center">Multimedia</h4>

        <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Synopsis Viewer
            </mat-panel-title>
            <mat-panel-description>
              Compare images and texts
            </mat-panel-description>
          </mat-expansion-panel-header>

          This app is under development. It has the functionality of a light - table and can compare image and text objects.
          It is currently working much better as an own window and can be opened as an own window <a href="/synopsis" target="_blank">here</a>.

          <mat-divider></mat-divider>

          <button mat-button (click)="addAnotherApp(appTypes[ 'synopsisViewer' ].model, true)"><mat-icon>art_track</mat-icon> Add Synopsis Viewer</button><br>
        </mat-expansion-panel>

        <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
          <mat-expansion-panel-header>
            <mat-panel-title>
              GrapesJS
            </mat-panel-title>
            <mat-panel-description>
              Website building app
            </mat-panel-description>
          </mat-expansion-panel-header>

          This app is under development. It is a Website builder documented <a href="https://grapesjs.com/" target="_blank">here</a>. It is intended
          to create static parts of your niePage, with images, texts, etc.

          <mat-divider></mat-divider>

          <button mat-button (click)="addAnotherApp(appTypes[ 'grapesJSViewer' ].model, true)"><mat-icon>developer_board</mat-icon> Add GrapesJS </button>

        </mat-expansion-panel>

      <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
        <mat-expansion-panel-header>
          <mat-panel-title>
            Data Chooser
          </mat-panel-title>
          <mat-panel-description>
            Define input Data for Apps
          </mat-panel-description>
        </mat-expansion-panel-header>

        This app works with the Textlist - Viewer. A tutorial on how to use it will follow.

        <mat-divider></mat-divider>

        <button mat-button (click)="addAnotherApp(appTypes[ 'dataChooser' ].model, true)"><mat-icon>perm_data_setting</mat-icon> Add Data Chooser</button><br>

      </mat-expansion-panel>

      <h4 style="align-content: center">Data Visualisation</h4>

      <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
        <mat-expansion-panel-header>
          <mat-panel-title>
            Bar Chart
          </mat-panel-title>
          <mat-panel-description>
            To define data with two dimensions
          </mat-panel-description>
        </mat-expansion-panel-header>

        This app is under development

        <mat-divider></mat-divider>

        <button mat-button (click)="addAnotherApp(appTypes[ 'barCharts' ].model, true)"><mat-icon>bar_chart</mat-icon> Add Bar Chart</button><br>

      </mat-expansion-panel>

      <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
        <mat-expansion-panel-header>
          <mat-panel-title>
            Line Chart
          </mat-panel-title>
          <mat-panel-description>
            To define data with two dimensions
          </mat-panel-description>
        </mat-expansion-panel-header>

        This app is under development

        <mat-divider></mat-divider>

        <button mat-button (click)="addAnotherApp(appTypes[ 'lineCharts' ].model, true)"><mat-icon>show_chart</mat-icon> Add Line Chart</button><br>

      </mat-expansion-panel>

      <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
        <mat-expansion-panel-header>
          <mat-panel-title>
            Brush Zoom
          </mat-panel-title>
          <mat-panel-description>
            To define data with two dimensions
          </mat-panel-description>
        </mat-expansion-panel-header>

        This app is under development

        <mat-divider></mat-divider>

        <button mat-button (click)="addAnotherApp(appTypes[ 'brushZoomCharts' ].model, true)"><mat-icon>insert_chart_outlined</mat-icon> Add Brush Zoom Chart</button><br>

      </mat-expansion-panel>

      <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
        <mat-expansion-panel-header>
          <mat-panel-title>
            Leaflet map
          </mat-panel-title>
          <mat-panel-description>
            Visualize data on maps
          </mat-panel-description>
        </mat-expansion-panel-header>

        This app is under development

        <mat-divider></mat-divider>

        <button mat-button (click)="addAnotherApp(appTypes[ 'leafletMaps' ].model, true)"><mat-icon>add_location</mat-icon> Add Leaflet Map</button><br>

      </mat-expansion-panel>

      <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
        <mat-expansion-panel-header>
          <mat-panel-title>
            Pie Chart
          </mat-panel-title>
          <mat-panel-description>
            To visualise subsets
          </mat-panel-description>
        </mat-expansion-panel-header>

        This app is under development

        <mat-divider></mat-divider>

        <button mat-button (click)="addAnotherApp(appTypes[ 'pieCharts' ].model, true)"><mat-icon>pie_chart</mat-icon> Add Pie Chart</button><br>

      </mat-expansion-panel>

      <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
        <mat-expansion-panel-header>
          <mat-panel-title>
            Radial Bar Chart
          </mat-panel-title>
          <mat-panel-description>
            To two dimensional data
          </mat-panel-description>
        </mat-expansion-panel-header>

        This app is under development

        <mat-divider></mat-divider>

        <button mat-button (click)="addAnotherApp(appTypes[ 'radialBarCharts' ].model, true)"><mat-icon>multiline_chart</mat-icon> Add Radial Bar Chart</button><br>

      </mat-expansion-panel>

      <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
        <mat-expansion-panel-header>
          <mat-panel-title>
            Sankey
          </mat-panel-title>
          <mat-panel-description>
            To display dependend data
          </mat-panel-description>
        </mat-expansion-panel-header>

        This app is under development

        <mat-divider></mat-divider>

        <button mat-button (click)="addAnotherApp(appTypes[ 'sankeyCharts' ].model, true)"><mat-icon>linear_scale</mat-icon> Add Radial Bar Chart</button><br>

      </mat-expansion-panel>

      <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
        <mat-expansion-panel-header>
          <mat-panel-title>
            Stacked Bar Chart
          </mat-panel-title>
          <mat-panel-description>
            To display grouped sets
          </mat-panel-description>
        </mat-expansion-panel-header>

        This app is under development

        <mat-divider></mat-divider>

        <button mat-button (click)="addAnotherApp(appTypes[ 'stackedBarCharts' ].model, true)"><mat-icon>view_list</mat-icon> Add Radial Bar Chart</button><br>

      </mat-expansion-panel>


      <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
        <mat-expansion-panel-header>
          <mat-panel-title>
            Chord diagram
          </mat-panel-title>
          <mat-panel-description>
            To compare intensity of connections
          </mat-panel-description>
        </mat-expansion-panel-header>

        This app is under development

        <mat-divider></mat-divider>

        <button mat-button (click)="addAnotherApp(appTypes[ 'chordDiagrams' ].model, true)"><mat-icon>view_list</mat-icon> Add Chord Diagram</button><br>

      </mat-expansion-panel>



      <h4 style="align-content: center">Data Insertion</h4>

        <mat-expansion-panel style="width: 300px; margin-top: 10px;" [expanded]="panelsOpen" >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Resource Creation
            </mat-panel-title>
            <mat-panel-description>
              For Knora
            </mat-panel-description>
          </mat-expansion-panel-header>

          With this app you can create and change data in Knora and see the history of given properties.

          <mat-divider></mat-divider>

          <button mat-button (click)="addAnotherApp(appTypes[ 'createResourceForm' ].model, true)"><mat-icon>add_to_queue</mat-icon> Add Creation Form</button>

        </mat-expansion-panel>

    </mat-drawer>

    <div style="margin-top: 30px">
      <button type="button" mat-button (click)="drawer.toggle()" matTooltip='{{ createTooltip() }}'>
        <mat-icon color="primary" >chrome_reader_mode</mat-icon>
      </button>
    </div>

    <!-- Image Viewer -->
    <div *ngFor="let imageViewer of appTypes[ 'imageViewer' ].model; let i = index;" >
      <popup #imageViewer
             [hash]="appTypes[ 'imageViewer' ].model[i].hash"
             [title]="'Image Viewer ' + i"
             [type]="appTypes[ 'imageViewer' ].type"
             [firstPopupX]="appTypes[ 'imageViewer' ].model[i].x"
             [firstPopupY]="appTypes[ 'imageViewer' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <nie-image-frame style="height: 100%;"
                         [image]="image"
                         width="500"
                         height="500">
        </nie-image-frame>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>image</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="imageViewer.appear()">Show Image Viewer {{ i }}</button>
        <button mat-menu-item >Choose Image</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'imageViewer' ].model, i ) ">Remove this app</button>
      </mat-menu>
    </div>

    <!-- Search -->
    <div *ngFor="let search of appTypes[ 'searchViewer' ].model; let i = index;" >
      <popup #searchViewer
             [hash]="appTypes[ 'searchViewer' ].model[i].hash"
             [title]="'Search ' + i"
             [type]="appTypes[ 'searchViewer' ].type"
             [firstPopupX]="appTypes[ 'searchViewer' ].model[i].x"
             [firstPopupY]="appTypes[ 'searchViewer' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <nie-search
        style="height: 100%;">

        </nie-search>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>search</mat-icon> {{ i }} </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="searchViewer.appear()" >Show Search Viewer {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'searchViewer' ].model, i ) ">Remove this app</button>
      </mat-menu>
    </div>

    <!-- GrapesJS -->
    <div *ngFor="let grapesJS of appTypes[ 'grapesJSViewer' ].model; let i = index;" >
      <popup #grapesJSViewer
             [hash]="appTypes[ 'grapesJSViewer' ].model[i].hash"
             [title]="'GrapesJS ' + i"
             [type]="appTypes[ 'grapesJSViewer' ].type"
             [firstPopupX]="appTypes[ 'grapesJSViewer' ].model[i].x"
             [firstPopupY]="appTypes[ 'grapesJSViewer' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div id="grapesJSViewer">Please drag this window to desired size and open other app. <br>
          ( Click for example on image view, this will cause the instantiation of  grapesjs as well. )<br>
        This is necessary because of a current bug.</div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>developer_board</mat-icon> {{ i }} </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="grapesJSViewer.appear()" >Show GrapesJS Viewer {{ i }}</button><br>
        <button mat-menu-item (click)="closeApp( appTypes[ 'grapesJSViewer' ].model, i )">Remove this app</button>
      </mat-menu>
    </div>

    <!-- TextViewer -->
    <div *ngFor="let textViewer of appTypes[ 'textViewer' ].model; let i = index;" >
      <popup #textViewer
             [hash]="appTypes[ 'textViewer' ].model[i].hash"
             [title]="'Text Viewer ' + i"
             [type]="appTypes[ 'textViewer' ].type"
             [firstPopupX]="appTypes[ 'textViewer' ].model[i].x"
             [firstPopupY]="appTypes[ 'textViewer' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div style="max-width: 500px;">
          <app-text-view class="draggable">
          </app-text-view>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>short_text</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="textViewer.appear()" >Show Text Viewer {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'textViewer' ].model, i ) ">Remove this app</button>
        <button mat-menu-item>Choose Text</button>
      </mat-menu>

    </div>

    <!-- Synopsis -->
    <div *ngFor="let synopsisViewer of appTypes[ 'synopsisViewer' ].model; let i = index;" >
      <popup #synopsisViewer
             [hash]="appTypes[ 'synopsisViewer' ].model[i].hash"
             [title]="'Synopsis Viewer ' + i"
             [type]="appTypes[ 'synopsisViewer' ].type"
             [firstPopupX]="appTypes[ 'synopsisViewer' ].model[i].x"
             [firstPopupY]="appTypes[ 'synopsisViewer' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div style="width: 900px; height: 400px;" >
          <app-synopsis style="position: sticky;">

          </app-synopsis>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>art_track</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="synopsisViewer.appear()" >Show Synopsis Viewer {{ i }}</button><br>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'synopsisViewer' ].model, i ) ">Remove this app</button>
      </mat-menu>

    </div>

    <!-- Resource Creation Form -->
    <div *ngFor="let createResourceForm of appTypes[ 'createResourceForm' ].model; let i = index;" >
      <popup #createResourceForm
             [hash]="appTypes[ 'createResourceForm' ].model[i].hash"
             [title]="'Resource Creation ' + i"
             [type]="appTypes[ 'createResourceForm' ].type"
             [firstPopupX]="appTypes[ 'createResourceForm' ].model[i].x"
             [firstPopupY]="appTypes[ 'createResourceForm' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div style="width: 900px; height: 400px;" >
          <app-create-resource style="position: sticky;"
                               [projectIRI]="projectIRI"
                               (resourceIRI)="closeApp( appTypes[ 'createResourceForm' ].model, i )">
          </app-create-resource>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>add_to_queue</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="createResourceForm.appear()" >Show Create Resource Form {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'createResourceForm' ].model, i ) ">Remove this app</button>
      </mat-menu>

    </div>

    <!-- textlistViewers -->
    <div *ngFor="let createResourceForm of appTypes[ 'textlistViewers' ].model; let i = index;" >
      <popup #textlistViewers
             [hash]="appTypes[ 'textlistViewers' ].model[i].hash"
             [title]="'Textlist - Viewer ' + i"
             [type]="appTypes[ 'textlistViewers' ].type"
             [firstPopupX]="appTypes[ 'textlistViewers' ].model[i].x"
             [firstPopupY]="appTypes[ 'textlistViewers' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div style="width: 300px; height: 200px;" >
          <app-textlist-viewer style="position: sticky;"
                               (resourceIRI)="closeApp( appTypes[ 'textlistViewers' ].model, i )"
                               [textToDisplay]="appTypes[ 'textlistViewers' ].model[i]['textlist']">
          </app-textlist-viewer>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>view_headline</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="textlistViewers.appear()" >Show Textlist Viewer {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'textlistViewers' ].model, i ) ">Remove this app</button>
      </mat-menu>
    </div>

    <!-- Data Chooser -->
    <div *ngFor="let dataChooser of appTypes[ 'dataChooser' ].model; let i = index;" >
      <popup #dataChooser
             [hash]="appTypes[ 'dataChooser' ].model[i].hash"
             [title]="'Data Chooser ' + i"
             [type]="appTypes[ 'dataChooser' ].type"
             [firstPopupX]="appTypes[ 'dataChooser' ].model[i].x"
             [firstPopupY]="appTypes[ 'dataChooser' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div style="width: 600px; height: 50px;" >
          <app-data-chooser
            [viewModel] = "appTypes"
            (sendAppTypesBackToNIEOS)="updateAppTypesFromDataChooser($event)">>
          </app-data-chooser>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>perm_data_setting</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="dataChooser.appear()" >Show Data Chooser {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'dataChooser' ].model, i ) ">Remove this app</button>
      </mat-menu>

    </div>

    <!-- Bar Charts -->
    <div *ngFor="let barChart of appTypes[ 'barCharts' ].model; let i = index;" >
      <popup #barChart
             [hash]="appTypes[ 'barCharts' ].model[i].hash"
             [title]="'Bar Chart ' + i"
             [type]="appTypes[ 'barCharts' ].type"
             [firstPopupX]="appTypes[ 'barCharts' ].model[i].x"
             [firstPopupY]="appTypes[ 'barCharts' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div style="width: 1200px; overflow: auto">
          <app-bar-chart
            [initialised] = "appTypes[ 'barCharts' ].model[i].initialized"
            [numberOfInitialisedComponent] = " i " >

          </app-bar-chart>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>bar_chart</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="barChart.appear()" (click)="appTypes[ 'barCharts' ].model[i].initialized = true">Show Bar Chart {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'barCharts' ].model, i ) ">Remove this app</button>
      </mat-menu>

    </div>


    <!-- Line Charts -->
    <div *ngFor="let lineChart of appTypes[ 'lineCharts' ].model; let i = index;" >
      <popup #lineChart
             [hash]="appTypes[ 'lineCharts' ].model[i].hash"
             [title]="'Line Chart ' + i"
             [type]="appTypes[ 'lineCharts' ].type"
             [firstPopupX]="appTypes[ 'lineCharts' ].model[i].x"
             [firstPopupY]="appTypes[ 'lineCharts' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div >
          <app-multi-line-chart
            [initialised] = "appTypes[ 'lineCharts' ].model[i].initialized"
            [numberOfInitialisedComponent] = " i " >

          </app-multi-line-chart>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>show_chart</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="lineChart.appear()" (click)="appTypes[ 'lineCharts' ].model[i].initialized = true">Show Line Chart {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'lineCharts' ].model, i ) ">Remove this app</button>
      </mat-menu>

    </div>

    <!-- Brush Zoom Charts -->
    <div *ngFor="let brushZoomChart of appTypes[ 'brushZoomCharts' ].model; let i = index;" >
      <popup #brushZoomChart
             [hash]="appTypes[ 'brushZoomCharts' ].model[i].hash"
             [title]="'Brush Zoom Chart ' + i"
             [type]="appTypes[ 'brushZoomCharts' ].type"
             [firstPopupX]="appTypes[ 'brushZoomCharts' ].model[i].x"
             [firstPopupY]="appTypes[ 'brushZoomCharts' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div >
          <app-brush-and-zoom
            [initialised] = "appTypes[ 'brushZoomCharts' ].model[i].initialized"
            [numberOfInitialisedComponent] = " i " >

          </app-brush-and-zoom>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>insert_chart_outlined</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="brushZoomChart.appear()" (click)="appTypes[ 'brushZoomCharts' ].model[i].initialized = true">Show Brush Zoom Chart {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'brushZoomCharts' ].model, i ) ">Remove this app</button>
      </mat-menu>

    </div>

    <!-- Leaflet Map -->
    <div *ngFor="let leafletMap of appTypes[ 'leafletMaps' ].model; let i = index;" >
      <popup #leafletMap
             [hash]="appTypes[ 'leafletMaps' ].model[i].hash"
             [title]="'Leaflet Map ' + i"
             [type]="appTypes[ 'leafletMaps' ].type"
             [firstPopupX]="appTypes[ 'leafletMaps' ].model[i].x"
             [firstPopupY]="appTypes[ 'leafletMaps' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div >
          <app-leaflet-example
            [initialised] = "appTypes[ 'leafletMaps' ].model[i].initialized"
            [numberOfInitialisedComponent] = " i " >

          </app-leaflet-example>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>add_location</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="leafletMap.appear()" (click)="appTypes[ 'leafletMaps' ].model[i].initialized = true">Show Leaflet Map {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'leafletMaps' ].model, i ) ">Remove this app</button>
      </mat-menu>

    </div>

    <!-- Pie Chart -->
    <div *ngFor="let pieChart of appTypes[ 'pieCharts' ].model; let i = index;" >
      <popup #pieChart
             [hash]="appTypes[ 'pieCharts' ].model[i].hash"
             [title]="'Pie Chart ' + i"
             [type]="appTypes[ 'pieCharts' ].type"
             [firstPopupX]="appTypes[ 'pieCharts' ].model[i].x"
             [firstPopupY]="appTypes[ 'pieCharts' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div >
          <app-pie-chart
            [initialised] = "appTypes[ 'pieCharts' ].model[i].initialized"
            [numberOfInitialisedComponent] = " i " >
          </app-pie-chart>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>pie_chart</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="pieChart.appear()" (click)="appTypes[ 'pieCharts' ].model[i].initialized = true">Show Pie Chart {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'pieCharts' ].model, i ) ">Remove this app</button>
      </mat-menu>

    </div>

    <!-- Radial Bar Chart -->
    <div *ngFor="let radialBarChart of appTypes[ 'radialBarCharts' ].model; let i = index;" >
      <popup #radialBarChart
             [hash]="appTypes[ 'radialBarCharts' ].model[i].hash"
             [title]="'Radial Bar Chart ' + i"
             [type]="appTypes[ 'radialBarCharts' ].type"
             [firstPopupX]="appTypes[ 'radialBarCharts' ].model[i].x"
             [firstPopupY]="appTypes[ 'radialBarCharts' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div >
          <app-radial-barchart
            [initialised] = "appTypes[ 'radialBarCharts' ].model[i].initialized"
            [numberOfInitialisedComponent] = " i " >
          </app-radial-barchart>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>multiline_chart</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="radialBarChart.appear()" (click)="appTypes[ 'radialBarCharts' ].model[i].initialized = true">Show Radial Bar Chart {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'radialBarCharts' ].model, i ) ">Remove this app</button>
      </mat-menu>

    </div>

    <!-- Sankey Chart -->
    <div *ngFor="let sankeyChart of appTypes[ 'sankeyCharts' ].model; let i = index;" >
      <popup #sankeyChart
             [hash]="appTypes[ 'sankeyCharts' ].model[i].hash"
             [title]="'Sankey Chart ' + i"
             [type]="appTypes[ 'sankeyCharts' ].type"
             [firstPopupX]="appTypes[ 'sankeyCharts' ].model[i].x"
             [firstPopupY]="appTypes[ 'sankeyCharts' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div >
          <app-sankey
            [initialised] = "appTypes[ 'sankeyCharts' ].model[i].initialized"
            [numberOfInitialisedComponent] = " i " >
          </app-sankey>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>linear_scale</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="sankeyChart.appear()" (click)="appTypes[ 'sankeyCharts' ].model[i].initialized = true">Sankey Chart {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'sankeyCharts' ].model, i ) ">Remove this app</button>
      </mat-menu>

    </div>

    <!-- Stacked Bar Chart -->
    <div *ngFor="let stackedBarChart of appTypes[ 'stackedBarCharts' ].model; let i = index;" >
      <popup #stackedBarChart
             [hash]="appTypes[ 'stackedBarCharts' ].model[i].hash"
             [title]="'Sankey Chart ' + i"
             [type]="appTypes[ 'stackedBarCharts' ].type"
             [firstPopupX]="appTypes[ 'stackedBarCharts' ].model[i].x"
             [firstPopupY]="appTypes[ 'stackedBarCharts' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div >
          <app-stacked-bar-chart
            [initialised] = "appTypes[ 'stackedBarCharts' ].model[i].initialized"
            [numberOfInitialisedComponent] = " i " >
          </app-stacked-bar-chart>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>view_list</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="stackedBarChart.appear()" (click)="appTypes[ 'stackedBarCharts' ].model[i].initialized = true">Stacked Bar Chart {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'stackedBarCharts' ].model, i ) ">Remove this app</button>
      </mat-menu>

    </div>

    <!-- Chord diagram -->
    <div *ngFor="let chordDiagram of appTypes[ 'chordDiagrams' ].model; let i = index;" >
      <popup #chordDiagram
             [hash]="appTypes[ 'chordDiagrams' ].model[i].hash"
             [title]="'Chord Diagram ' + i"
             [type]="appTypes[ 'chordDiagrams' ].type"
             [firstPopupX]="appTypes[ 'chordDiagrams' ].model[i].x"
             [firstPopupY]="appTypes[ 'chordDiagrams' ].model[i].y"
             (sendAppCoordinatesBack)="updateAppCoordinates($event)">
        <div >
          <app-chord-diagram
            [initialised] = "appTypes[ 'chordDiagrams' ].model[i].initialized"
            [numberOfInitialisedComponent] = " i " >
          </app-chord-diagram>
        </div>
      </popup>
      <button mat-button [matMenuTriggerFor]="menu" style="vertical-align: bottom;" ><mat-icon>view_list</mat-icon> {{ i }}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="chordDiagram.appear()" (click)="appTypes[ 'chordDiagrams' ].model[i].initialized = true">Chord Diagram {{ i }}</button>
        <button mat-menu-item (click)=" closeApp( appTypes[ 'chordDiagrams' ].model, i ) ">Close this app</button>
      </mat-menu>

    </div>



  </mat-drawer-container>
